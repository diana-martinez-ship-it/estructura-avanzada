<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>EcoMarket: Seguridad en Sistemas Distribuidos - HTTPS y GestiÃ³n de Secretos</title>
    <style>
        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            line-height: 1.6;
            color: #333;
            max-width: 900px;
            margin: 0 auto;
            padding: 20px;
            background-color: #f9f9f9;
        }
        h1, h2, h3 { color: #2c3e50; }
        h1 {
            text-align: center;
            border-bottom: 3px solid #17a2b8;
            padding-bottom: 10px;
        }
        .phase {
            background: white;
            border-radius: 10px;
            padding: 20px;
            margin: 20px 0;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
        }
        .phase h2 {
            display: flex;
            align-items: center;
            margin-bottom: 15px;
        }
        .phase h2::before {
            content: attr(data-icon);
            font-size: 1.5em;
            margin-right: 10px;
        }
        .activity {
            background: #e8f4fd;
            border-left: 4px solid #17a2b8;
            padding: 15px;
            margin: 15px 0;
            border-radius: 5px;
        }
        .checkpoint {
            background: #d4edda;
            border-left: 4px solid #28a745;
            padding: 15px;
            margin: 15px 0;
            border-radius: 5px;
        }
        .code-block {
            background: #f8f9fa;
            border: 1px solid #dee2e6;
            border-radius: 5px;
            padding: 15px;
            overflow-x: auto;
            font-family: 'Courier New', monospace;
            font-size: 0.9em;
            line-height: 1.4;
        }
        .code-block pre { margin: 0; white-space: pre-wrap; }
        .code-python { border-left: 4px solid #3572A5; }
        .code-csharp { border-left: 4px solid #9B4F96; }
        .code-bash { background: #2d3436; color: #dfe6e9; border-left: 4px solid #636e72; }
        .code-docker { border-left: 4px solid #0db7ed; }
        ul { padding-left: 20px; }
        li { margin: 5px 0; }
        .warning { background: #fff3cd; border-left: 4px solid #ffc107; padding: 15px; margin: 15px 0; border-radius: 5px; }
        .danger { background: #ffe6e6; border-left: 4px solid #e74c3c; padding: 15px; margin: 15px 0; border-radius: 5px; }
        .tip { background: #d1ecf1; border-left: 4px solid #17a2b8; padding: 15px; margin: 15px 0; border-radius: 5px; }
        .reflection { background: #f8d7da; border-left: 4px solid #dc3545; padding: 15px; margin: 15px 0; border-radius: 5px; }
        .ai-prompt { background: #e8f5e8; border-left: 4px solid #28a745; padding: 15px; margin: 15px 0; border-radius: 5px; font-family: monospace; font-size: 0.9em; }
        .ai-challenge { background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); color: white; padding: 20px; margin: 20px 0; border-radius: 10px; }
        .ai-challenge h3 { color: white; margin-top: 0; }
        .ai-challenge pre { background: rgba(255,255,255,0.15); padding: 15px; border-radius: 5px; white-space: pre-wrap; }
        .progress-bar { display: flex; justify-content: space-between; margin: 20px 0; flex-wrap: wrap; }
        .progress-item { flex: 1; text-align: center; padding: 10px; background: #e9ecef; margin: 5px; border-radius: 5px; min-width: 120px; }
        .progress-item.active { background: #17a2b8; color: white; }
        .scenario-box { background: #f0f8ff; border: 1px solid #17a2b8; padding: 15px; margin: 10px 0; border-radius: 5px; }
        .diagram { background: #f8f9fa; border: 1px solid #dee2e6; border-radius: 5px; padding: 15px; margin: 10px 0; white-space: pre; font-family: 'Courier New', monospace; font-size: 0.85em; overflow-x: auto; }
        .comparison-table { width: 100%; border-collapse: collapse; margin: 10px 0; background: white; }
        .comparison-table th, .comparison-table td { border: 1px solid #ddd; padding: 12px; text-align: left; }
        .comparison-table th { background-color: #f2f2f2; font-weight: bold; }
        .comparison-table tr:nth-child(even) { background-color: #f9f9f9; }
        .dual-lang { display: flex; gap: 20px; }
        .dual-lang > div { flex: 1; }
        @media (max-width: 768px) { .dual-lang { flex-direction: column; } }
        footer p { text-align: center; font-size: 1.2em; color: #28a745; }
        .glossary { background: #f8f9fa; padding: 15px; margin: 20px 0; border-radius: 5px; }
        .glossary dl { margin: 0; }
        .glossary dt { font-weight: bold; margin-top: 10px; color: #17a2b8; }
        .glossary dd { margin-left: 0; margin-bottom: 10px; }
        .deep-questions { background: #fff5f5; border: 2px dashed #dc3545; padding: 20px; margin: 20px 0; border-radius: 10px; }
        .deep-questions h3 { color: #dc3545; margin-top: 0; }
        .layer-security { background: linear-gradient(to right, #e8f5e8, #d1ecf1, #fff3cd); padding: 15px; border-radius: 10px; margin: 15px 0; }
    </style>
    <script src="https://cdn.jsdelivr.net/npm/mermaid@10.9.1/dist/mermaid.min.js"></script>
    <script>mermaid.initialize({ startOnLoad: true, theme: 'default' });</script>
</head>
<body>
    <!-- Contexto del Curso -->
    <div style="background: linear-gradient(135deg, #17a2b8 0%, #138496 100%); color: white; padding: 15px; border-radius: 10px; margin-bottom: 20px;">
        <div style="display: flex; justify-content: space-between; align-items: center; flex-wrap: wrap;">
            <div>
                <h3 style="margin: 0; color: white;"><span role="img" aria-label="calendario">ğŸ“…</span> Semana 9 | Unidad IV: ComunicaciÃ³n Segura (Parte 2)</h3>
                <p style="margin: 5px 0 0 0; opacity: 0.9;">Taller 8: Configurar HTTPS y GestiÃ³n de Secretos</p>
            </div>
            <div style="text-align: right;">
                <p style="margin: 0; font-size: 0.9em; opacity: 0.9;">DuraciÃ³n: 4 horas</p>
                <p style="margin: 5px 0 0 0; font-size: 0.9em; opacity: 0.9; font-weight: bold;">Entrega Final: Hito 2 (15%)</p>
            </div>
        </div>
    </div>

    <h1>EcoMarket: Endureciendo la Seguridad - Cifrado y Secretos</h1>
    <p>De credenciales expuestas y texto plano a una infraestructura segura con HTTPS/TLS y variables de entorno protegidas.</p>

    <!-- ConexiÃ³n ExplÃ­cita con Semana 8 -->
    <div class="layer-security">
        <h3><span role="img" aria-label="enlace">ğŸ”—</span> ConexiÃ³n con Semana 8: Las Tres Capas de Seguridad</h3>
        <div class="mermaid" role="img" aria-label="Diagrama de flujo mostrando las tres capas de seguridad: JWT para identidad en Semana 8, HTTPS/TLS para canal cifrado y Secretos para configuraciÃ³n protegida en Semana 9">
graph TB
    subgraph "Semana 8: IDENTIDAD"
        JWT[ğŸ« JWT - Â¿QuiÃ©n eres?]
    end
    subgraph "Semana 9: TRANSPORTE + CONFIG"
        HTTPS[ğŸ”’ HTTPS/TLS - Canal Cifrado]
        SECRETS[ğŸ”‘ Secretos - Config Protegida]
    end
    JWT --> HTTPS
    HTTPS --> SECRETS
    style JWT fill:#e74c3c,color:white
    style HTTPS fill:#17a2b8,color:white
    style SECRETS fill:#28a745,color:white
        </div>
        <p><strong>AnalogÃ­a:</strong> JWT es tu credencial de empleado (identidad), HTTPS es el sobre sellado que la transporta (confidencialidad), y la gestiÃ³n de secretos es la caja fuerte donde guardas las llaves maestras (configuraciÃ³n segura).</p>
    </div>

    <!-- SecciÃ³n de IntroducciÃ³n -->
    <section id="introduccion" style="background: #f0f8ff; border-radius: 10px; padding: 20px; margin: 20px 0;">
        <h2><span role="img" aria-label="diana objetivo">ğŸ¯</span> Al Final de Esta Semana (Cierre de Unidad IV), SerÃ¡s Capaz De:</h2>
        <div class="checkpoint">
            <ul>
                <li>âœ… <strong>Implementar</strong> comunicaciones cifradas (HTTPS) utilizando certificados (self-signed para desarrollo). <em>[Nivel: Aplicar]</em></li>
                <li>âœ… <strong>Externalizar</strong> secretos y credenciales (DB Strings, API Keys, JWT Secrets) fuera del cÃ³digo fuente. <em>[Nivel: Aplicar]</em></li>
                <li>âœ… <strong>Analizar</strong> la diferencia entre autenticaciÃ³n (JWT - Semana 8) y canal seguro (TLS - Semana 9), identificando vectores de ataque como MITM. <em>[Nivel: Analizar]</em></li>
                <li>âœ… <strong>Configurar</strong> un servidor web (como Nginx) o el servidor de aplicaciones para terminaciÃ³n SSL, con renovaciÃ³n automÃ¡tica. <em>[Nivel: Aplicar]</em></li>
                <li>âœ… <strong>Evaluar</strong> trade-offs entre diferentes estrategias de gestiÃ³n de certificados y secretos. <em>[Nivel: Evaluar]</em></li>
                <li>âœ… <strong>DiseÃ±ar</strong> una estrategia personalizada de seguridad para tu arquitectura distribuida. <em>[Nivel: Crear]</em></li>
                <li>âœ… <strong>Entregar</strong> el Hito 2: Servicios con Seguridad (JWT + HTTPS + Secretos).</li>
            </ul>
        </div>

        <h2><span role="img" aria-label="libros">ğŸ“š</span> Lecturas / Estudio Independiente (Antes del Taller 8)</h2>
        <p>Dedica 30â€“45 minutos a los siguientes conceptos clave:</p>
        <ul>
            <li><strong>The Twelve-Factor App (Config):</strong> Por quÃ© la configuraciÃ³n debe estar en el entorno y no en el cÃ³digo (Heroku Manifesto).</li>
            <li><strong>TLS/SSL Handshake:</strong> CÃ³mo se establece una conexiÃ³n segura (llave pÃºblica vs. privada; lee RFC 8446 para TLS 1.3).</li>
            <li>DocumentaciÃ³n de <code>python-dotenv</code> o <code>User Secrets</code> en .NET; OWASP Cheat Sheet para Secrets Management.</li>
        </ul>

        <!-- Escenario Inicial Inmersivo -->
        <div class="danger">
            <h3><span role="img" aria-label="sirena de alerta">ğŸš¨</span> Escenario de Brecha Real: Inspirado en Equifax (2017)</h3>
            <p>Imagina: EcoMarket crece, pero un empleado sube credenciales DB a GitHub. Un atacante las usa para inyectar SQL vÃ­a HTTP no cifrado. Resultado: 147M usuarios expuestos, $1.4B en multas. <strong>Tu misiÃ³n: Evitar esto en EcoMarket.</strong></p>
        </div>

        <!-- RETO IA #1: DiagnÃ³stico Inicial -->
        <div class="ai-challenge">
            <h3><span role="img" aria-label="robot">ğŸ¤–</span> Reto IA #1: DiagnÃ³stico de Vulnerabilidades (Antes de Empezar)</h3>
            <p>Usa este prompt para evaluar tu estado actual de seguridad:</p>
            <pre>ActÃºa como un auditor de seguridad senior. Voy a describir mi arquitectura actual de EcoMarket:

- Backend: [Python/FastAPI o C#/.NET]
- Base de datos: [PostgreSQL/MySQL/MongoDB]
- AutenticaciÃ³n: JWT implementado en Semana 8
- Despliegue: [Local/Docker/Cloud]
- Almacenamiento de secretos: [Describe cÃ³mo guardas contraseÃ±as y claves actualmente]

Genera un informe de vulnerabilidades con:
1. Lista de riesgos crÃ­ticos (ğŸ”´), medios (ğŸŸ¡), y bajos (ğŸŸ¢)
2. Para cada riesgo, explica el vector de ataque especÃ­fico
3. PriorizaciÃ³n: Â¿QuÃ© debo arreglar primero y por quÃ©?
4. MÃ©tricas: Â¿CÃ³mo sabrÃ© que lo arreglÃ© correctamente?

SÃ© especÃ­fico para mi stack tecnolÃ³gico.</pre>
            <p><strong>ğŸ“ Entregable:</strong> Guarda el informe generado. Lo compararÃ¡s con tu estado final al terminar la semana.</p>
        </div>

        <h2><span role="img" aria-label="herramientas">ğŸ› ï¸</span> Taller 8: HTTPS y Secretos en EcoMarket</h2>
        <p><strong>Objetivo del Taller:</strong> Finalizar la seguridad de EcoMarket asegurando que (1) los datos viajen cifrados y (2) las claves del servidor no estÃ©n expuestas en el repositorio. Integra con JWT de Semana 8: ahora, tokens viajan seguros.</p>

        <ol>
            <li><strong>AuditorÃ­a de Secretos (20 min):</strong> Identificar y remover cualquier contraseÃ±a hardcodeada (usa <code>grep -r "password\|secret" .</code>).</li>
            <li><strong>ImplementaciÃ³n de .env (40 min):</strong> Configurar la carga de variables de entorno, rotaciÃ³n de claves.</li>
            <li><strong>GeneraciÃ³n de Certificados (30 min):</strong> Crear certificados SSL locales (mkcert/openssl) y simular renovaciÃ³n.</li>
            <li><strong>Habilitar HTTPS (70 min):</strong> Configurar el servidor; prueba E2E con Postman (incluye redirecciÃ³n HTTPâ†’HTTPS).</li>
        </ol>

        <div class="tip">
            <h3><span role="img" aria-label="candado cerrado">ğŸ”</span> Â¿Por quÃ© JWT no es suficiente? (ConexiÃ³n ExplÃ­cita con Semana 8)</h3>
            <p>En Semana 8, JWT autentica "quiÃ©n eres". Pero sin HTTPS, un MITM (Man-in-the-Middle) intercepta el token en trÃ¡nsito (e.g., WiFi pÃºblico). <strong>HTTPS cifra el canal entero: confidencialidad + integridad.</strong></p>
            <div class="diagram">
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    Â¿QUÃ‰ PROTEGE CADA CAPA?                          â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  CAPA          â”‚  PROTEGE                â”‚  NO PROTEGE              â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  JWT           â”‚  Identidad del usuario  â”‚  Datos en trÃ¡nsito       â”‚
â”‚  (Semana 8)    â”‚  AutorizaciÃ³n (roles)   â”‚  Robo de token           â”‚
â”‚                â”‚  Integridad del claim   â”‚  Secreto si se filtra    â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  HTTPS/TLS     â”‚  Confidencialidad       â”‚  Identidad del usuario   â”‚
â”‚  (Semana 9)    â”‚  Integridad en trÃ¡nsito â”‚  AutorizaciÃ³n            â”‚
â”‚                â”‚  Autenticidad servidor  â”‚  Secretos en cÃ³digo      â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  GestiÃ³n de    â”‚  Secretos fuera de Git  â”‚  Datos en trÃ¡nsito       â”‚
â”‚  Secretos      â”‚  RotaciÃ³n de claves     â”‚  Identidad               â”‚
â”‚  (Semana 9)    â”‚  AuditorÃ­a de acceso    â”‚  Vulnerabilidades cÃ³digo â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
            </div>
        </div>

        <!-- RÃºbrica para Hito 2 -->
        <div style="background: linear-gradient(135deg, #28a745 0%, #218838 100%); color: white; padding: 20px; border-radius: 10px; margin: 20px 0;">
            <h3 style="margin-top: 0; color: white;"><span role="img" aria-label="trofeo">ğŸ†</span> RÃºbrica de EvaluaciÃ³n - Hito 2 (15% Total)</h3>
            <table class="comparison-table" style="color: #333;">
                <thead>
                    <tr>
                        <th>Componente</th>
                        <th>Peso</th>
                        <th>Criterios de AceptaciÃ³n</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td>AutenticaciÃ³n JWT (Semana 8)</td>
                        <td>5%</td>
                        <td>Login funcional, middleware protege â‰¥3 endpoints, claims seguros, refresh tokens.</td>
                    </tr>
                    <tr>
                        <td>GestiÃ³n de Secretos</td>
                        <td>4%</td>
                        <td>No hardcode; .env/UserSecrets; rotaciÃ³n simulada; .gitignore correcto; .env.example presente.</td>
                    </tr>
                    <tr>
                        <td>HTTPS/TLS</td>
                        <td>4%</td>
                        <td>Servidor en puerto seguro; redirecciÃ³n HTTPâ†’HTTPS; verificaciÃ³n en browser/Postman; certificado vÃ¡lido.</td>
                    </tr>
                    <tr>
                        <td>DocumentaciÃ³n & Demo</td>
                        <td>2%</td>
                        <td>README con setup; video 2-min E2E; informe con justificaciÃ³n tÃ©cnica.</td>
                    </tr>
                </tbody>
            </table>
            <p style="opacity: 0.9; margin-bottom: 0;">MÃ¡ximo: 15%. Bonos: +1% por Docker HTTPS; +1% por auditorÃ­a con IA documentada.</p>
        </div>
    </section>

    <div class="progress-bar">
        <div class="progress-item active">ğŸ´â€â˜ ï¸ Fase 0: La Amenaza</div>
        <div class="progress-item">ğŸ”‘ Fase 1: Secretos</div>
        <div class="progress-item">ğŸ”’ Fase 2: HTTPS</div>
        <div class="progress-item">ğŸš€ Fase 3: ProducciÃ³n</div>
        <div class="progress-item">ğŸ“ IntegraciÃ³n</div>
    </div>

    <!-- â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• -->
    <!-- FASE 0: EL PROBLEMA -->
    <!-- â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• -->
    <div class="phase">
        <h2 data-icon="ğŸ´â€â˜ ï¸" aria-label="Bandera pirata - Fase 0: El Problema de la Red Abierta y GitHub">Fase 0: El Problema de la Red Abierta y GitHub (30 min)</h2>
        
        <div class="scenario-box">
            <h3><span role="img" aria-label="planta">ğŸª´</span> Escenario: La FiltraciÃ³n de EcoMarket</h3>
            <p>Acabas de implementar JWT (Semana 8). Â¡Genial! Pero: Subiste <code>config.py</code> con <code>JWT_SECRET = "mi_secreto_super_seguro"</code> a GitHub. Tu API en <code>http://api.ecomarket.com</code>.</p>
            <p><strong>Consecuencias:</strong></p>
            <ul>
                <li>ğŸ¤– Bot en GitHub detecta la clave â†’ genera tokens falsos en minutos</li>
                <li>â˜• Usuario en WiFi de cafeterÃ­a â†’ token robado vÃ­a sniffer</li>
                <li>ğŸ’° Atacante accede a datos de clientes â†’ multas GDPR hasta 4% de ingresos anuales</li>
            </ul>
        </div>

        <div class="diagram">
            <div class="mermaid" role="img" aria-label="Diagrama de secuencia mostrando un ataque Man-in-the-Middle donde un hacker intercepta credenciales y tokens JWT en una conexiÃ³n HTTP no cifrada">
sequenceDiagram
    participant C as ğŸ‘¤ Cliente (CafeterÃ­a WiFi)
    participant H as ğŸ´â€â˜ ï¸ Hacker (Sniffer)
    participant S as ğŸ–¥ï¸ Servidor (HTTP)
    
    Note over C,S: âš ï¸ TRÃFICO EN TEXTO PLANO (HTTP)
    
    C->>S: POST /login {user: "ana", pass: "123456"}
    H-->>C: ğŸ‘ï¸ Intercepta credenciales en claro
    S-->>C: 200 OK {token: "eyJhbGciOiJIUzI1NiIs..."}
    H-->>S: ğŸ‘ï¸ Copia el JWT
    
    Note over H: ğŸ­ Ahora el Hacker ES Ana
    
    H->>S: GET /mis-ordenes (Authorization: Bearer eyJ...)
    S-->>H: 200 OK [{orden: "TV 65 pulgadas", direccion: "Calle Real 123"}]
    
    Note over H: ğŸ’³ Tiene acceso a historial, direcciones, mÃ©todos de pago
            </div>
        </div>
        <p style="text-align: center;"><em>Ataque MITM (Man-in-the-Middle) en conexiones no cifradas.</em></p>

        <div class="activity">
            <h3><span role="img" aria-label="detective">ğŸ•µï¸</span> Actividad: AuditorÃ­a de CÃ³digo (Nivel: Analizar)</h3>
            <p>Revisa tu repositorio de EcoMarket:</p>
            <ol>
                <li><strong>BÃºsqueda local:</strong> Ejecuta en tu terminal:
                    <div class="code-block code-bash">
<pre># Buscar secretos potenciales
grep -rn "password\|secret\|key\|token\|api_key" --include="*.py" --include="*.cs" --include="*.json" .

# Buscar strings de conexiÃ³n
grep -rn "mongodb://\|postgresql://\|mysql://\|Server=" .</pre>
                    </div>
                </li>
                <li><strong>SimulaciÃ³n de brecha:</strong> Por cada secreto encontrado, documenta:
                    <ul>
                        <li>Â¿QuÃ© acceso obtendrÃ­a un atacante?</li>
                        <li>Â¿CuÃ¡ntos usuarios afectados?</li>
                        <li>Â¿Costo estimado de la brecha?</li>
                    </ul>
                </li>
                <li><strong>InvestigaciÃ³n real:</strong> Busca en GitHub: <code>"JWT_SECRET" language:python</code> â€” observa cuÃ¡ntos repos exponen secretos reales.</li>
            </ol>
        </div>

        <!-- Checkpoint Fase 0 -->
        <div class="checkpoint">
            <h3><span role="img" aria-label="marca de verificaciÃ³n">âœ…</span> Checkpoint Fase 0</h3>
            <ul>
                <li>â˜ IdentifiquÃ© al menos 2 secretos hardcodeados en mi cÃ³digo</li>
                <li>â˜ DocumentÃ© el impacto potencial de cada filtraciÃ³n</li>
                <li>â˜ Entiendo la diferencia entre ataque MITM y robo de credenciales en GitHub</li>
            </ul>
        </div>

        <!-- PAUSA IA: DespuÃ©s de Fase 0 -->
        <div class="ai-challenge">
            <h3><span role="img" aria-label="robot">ğŸ¤–</span> Reto IA #2: SimulaciÃ³n de Ataque MITM</h3>
            <p>Profundiza tu comprensiÃ³n del problema antes de implementar la soluciÃ³n:</p>
            <pre>Simula que eres un pentester Ã©tico contratado para auditar EcoMarket. 

Contexto:
- API REST en http://api.ecomarket.com (sin HTTPS)
- AutenticaciÃ³n JWT implementada
- Base de datos PostgreSQL con datos de 50,000 usuarios
- Endpoints: /login, /productos, /ordenes, /usuarios/perfil

Genera:
1. **Plan de ataque detallado** usando tÃ©cnicas MITM (ARP spoofing, DNS spoofing, WiFi evil twin)
2. **Herramientas especÃ­ficas** que usarÃ­as (Wireshark, Bettercap, mitmproxy)
3. **Secuencia de comandos** para capturar un token JWT
4. **QuÃ© datos extraerÃ­as** una vez comprometido
5. **Timeline estimado** desde inicio hasta exfiltraciÃ³n completa

SÃ© tÃ©cnicamente preciso. Esto es para entender quÃ© debo defender.</pre>
            <p><strong>ğŸ“ ReflexiÃ³n:</strong> DespuÃ©s de ver el plan de ataque, Â¿quÃ© tan vulnerable te sientes? Anota 3 cosas que no habÃ­as considerado.</p>
        </div>

        <!-- Preguntas de ProfundizaciÃ³n Fase 0 -->
        <div class="deep-questions">
            <h3><span role="img" aria-label="pensando">ğŸ¤”</span> Preguntas para Profundizar (Fase 0)</h3>
            <ol>
                <li>Si un atacante obtiene tu JWT_SECRET de GitHub, Â¿puede generar tokens para usuarios que nunca han hecho login? Â¿Por quÃ©?</li>
                <li>Â¿Por quÃ© un JWT robado es mÃ¡s peligroso que una sesiÃ³n tradicional robada?</li>
                <li>Â¿QuÃ© diferencia hay entre que te roben el token en trÃ¡nsito vs. que te roben el secreto del servidor?</li>
                <li>Si implementas HTTPS pero tu JWT_SECRET estÃ¡ en GitHub, Â¿sigues vulnerable? Â¿A quÃ© exactamente?</li>
            </ol>
        </div>
    </div>

    <!-- â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• -->
    <!-- FASE 1: GESTIÃ“N DE SECRETOS -->
    <!-- â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• -->
    <div class="phase">
        <h2 data-icon="ğŸ”‘" aria-label="Llave - Fase 1: GestiÃ³n de Secretos">Fase 1: GestiÃ³n de Secretos (Variables de Entorno) (60 min)</h2>
        <p><strong>Regla de Oro:</strong> El cÃ³digo se comparte, la configuraciÃ³n se inyecta. Esto cumple con GDPR, PCI-DSS, y SOC2.</p>

        <div class="tip">
            <h3><span role="img" aria-label="libro abierto">ğŸ“–</span> Principio: The Twelve-Factor App (Factor III: Config)</h3>
            <p><em>"Store config in the environment"</em> â€” La configuraciÃ³n que varÃ­a entre entornos (desarrollo, staging, producciÃ³n) debe almacenarse en variables de entorno, NO en el cÃ³digo. Esto incluye: credenciales de BD, claves API, secretos JWT, URLs de servicios externos.</p>
        </div>

        <h3>ğŸ›¡ï¸ Estrategia de ImplementaciÃ³n</h3>

        <div class="warning">
            <h3><span role="img" aria-label="advertencia">âš ï¸</span> Paso CrÃ­tico: .gitignore + .env.example</h3>
            <p>Antes de escribir cualquier cÃ³digo, asegura tu <code>.gitignore</code>:</p>
            <div class="code-block code-bash">
<pre># Archivos de secretos - NUNCA subir
.env
.env.local
.env.production
*.pfx
*.key
*.pem
*.p12

# ConfiguraciÃ³n local de .NET
appsettings.Development.json
appsettings.Local.json

# Secretos de usuario .NET
secrets.json</pre>
            </div>
            <p>Crea <code>.env.example</code> como plantilla para onboarding de nuevos desarrolladores:</p>
            <div class="code-block">
<pre># .env.example - Copia a .env y llena los valores
DB_URL=postgresql://usuario:password@localhost:5432/nombre_db
JWT_SECRET=genera_una_clave_de_64_caracteres_aqui
JWT_REFRESH_SECRET=otra_clave_diferente_para_refresh
ENVIRONMENT=development
API_KEY_EXTERNA=tu_api_key_servicio_externo</pre>
            </div>
        </div>

        <div class="dual-lang">
            <div>
                <h4>ğŸ Python (FastAPI)</h4>
                <p>Instalar: <code>pip install python-dotenv pydantic-settings</code></p>
                <div class="code-block code-bash">
<pre># Archivo .env (NO subir a Git)
DB_URL="postgresql://user:pass@localhost:5432/eco_db"
JWT_SECRET="x7y8z9_clave_super_larga_aleatoria_64chars_minimo"
JWT_REFRESH_SECRET="otra_clave_diferente_para_refresh_tokens"
JWT_ALGORITHM="HS256"
JWT_EXPIRE_MINUTES=30
ENVIRONMENT="development"</pre>
                </div>
                
                <div class="code-block code-python">
<pre># config.py - ConfiguraciÃ³n tipada y validada
import os
from dotenv import load_dotenv
from pydantic_settings import BaseSettings
from functools import lru_cache

load_dotenv()

class Settings(BaseSettings):
    # Base de datos
    database_url: str
    
    # JWT
    jwt_secret: str
    jwt_refresh_secret: str
    jwt_algorithm: str = "HS256"
    jwt_expire_minutes: int = 30
    
    # Entorno
    environment: str = "development"
    
    class Config:
        env_file = ".env"
        # Mapeo de nombres de variables
        fields = {
            "database_url": {"env": "DB_URL"},
            "jwt_secret": {"env": "JWT_SECRET"},
            "jwt_refresh_secret": {"env": "JWT_REFRESH_SECRET"},
        }

@lru_cache()  # Singleton - carga una sola vez
def get_settings() -> Settings:
    return Settings()

# ValidaciÃ³n al importar
settings = get_settings()

# VerificaciÃ³n explÃ­cita
if len(settings.jwt_secret) < 32:
    raise ValueError("JWT_SECRET debe tener al menos 32 caracteres")
if settings.jwt_secret == settings.jwt_refresh_secret:
    raise ValueError("JWT_SECRET y JWT_REFRESH_SECRET deben ser diferentes")</pre>
                </div>

                <div class="code-block code-python">
<pre># Uso en auth.py
from config import settings
from jose import jwt
from datetime import datetime, timedelta

def crear_token(data: dict) -> str:
    expire = datetime.utcnow() + timedelta(minutes=settings.jwt_expire_minutes)
    to_encode = data.copy()
    to_encode.update({"exp": expire})
    return jwt.encode(
        to_encode, 
        settings.jwt_secret,  # Viene del .env
        algorithm=settings.jwt_algorithm
    )</pre>
                </div>
            </div>
            <div>
                <h4>ğŸ”· C# (.NET Core)</h4>
                <p>User Secrets para desarrollo; Variables de entorno para producciÃ³n.</p>
                <div class="code-block code-bash">
<pre># Inicializar User Secrets (desarrollo local)
dotnet user-secrets init

# Agregar secretos
dotnet user-secrets set "Jwt:Secret" "x7y8z9_clave_super_larga..."
dotnet user-secrets set "Jwt:RefreshSecret" "otra_clave_refresh..."
dotnet user-secrets set "Jwt:Algorithm" "HS256"
dotnet user-secrets set "Jwt:ExpireMinutes" "30"
dotnet user-secrets set "ConnectionStrings:EcoDb" "Server=localhost;..."

# Ver secretos configurados
dotnet user-secrets list</pre>
                </div>

                <div class="code-block code-csharp">
<pre>// JwtOptions.cs - Clase de configuraciÃ³n tipada
public class JwtOptions
{
    public const string SectionName = "Jwt";
    
    public string Secret { get; set; } = string.Empty;
    public string RefreshSecret { get; set; } = string.Empty;
    public string Algorithm { get; set; } = "HS256";
    public int ExpireMinutes { get; set; } = 30;
    
    // ValidaciÃ³n
    public void Validate()
    {
        if (string.IsNullOrEmpty(Secret) || Secret.Length < 32)
            throw new InvalidOperationException("JWT Secret invÃ¡lido");
        if (Secret == RefreshSecret)
            throw new InvalidOperationException("Secret y RefreshSecret deben ser diferentes");
    }
}</pre>
                </div>

                <div class="code-block code-csharp">
<pre>// Program.cs - ConfiguraciÃ³n con validaciÃ³n
var builder = WebApplication.CreateBuilder(args);

// Cargar y validar configuraciÃ³n
var jwtOptions = builder.Configuration
    .GetSection(JwtOptions.SectionName)
    .Get&lt;JwtOptions&gt;();

jwtOptions?.Validate();

// Registrar para inyecciÃ³n de dependencias
builder.Services.Configure&lt;JwtOptions&gt;(
    builder.Configuration.GetSection(JwtOptions.SectionName)
);

// Usar IOptionsMonitor para cambios en caliente (rotaciÃ³n)
builder.Services.AddSingleton&lt;IOptionsMonitor&lt;JwtOptions&gt;&gt;();

var dbConn = builder.Configuration.GetConnectionString("EcoDb");
if (string.IsNullOrEmpty(dbConn))
    throw new InvalidOperationException("Falta ConnectionString:EcoDb");</pre>
                </div>
            </div>
        </div>

        <h3><span role="img" aria-label="flechas circulares">ğŸ”„</span> RotaciÃ³n de Secretos</h3>
        <p>Los secretos deben rotarse periÃ³dicamente (cada 90 dÃ­as mÃ­nimo) o inmediatamente si hay sospecha de compromiso.</p>
        
        <div class="dual-lang">
            <div>
                <h4>ğŸ Python: RotaciÃ³n con Blacklist</h4>
                <div class="code-block code-python">
<pre># rotation.py - Estrategia de rotaciÃ³n gradual
import redis
from datetime import datetime, timedelta
from config import settings

redis_client = redis.Redis(host='localhost', port=6379, db=0)

class SecretRotation:
    BLACKLIST_PREFIX = "jwt_blacklist:"
    GRACE_PERIOD_HOURS = 24  # Tokens viejos vÃ¡lidos por 24h
    
    @staticmethod
    def rotate_jwt_secret(old_secret: str, new_secret: str):
        """
        Estrategia de rotaciÃ³n sin downtime:
        1. Agregar old_secret a lista de secretos vÃ¡lidos temporales
        2. Actualizar .env con new_secret
        3. Tokens nuevos se firman con new_secret
        4. Tokens viejos siguen validÃ¡ndose por GRACE_PERIOD
        5. DespuÃ©s de GRACE_PERIOD, old_secret se invalida
        """
        grace_end = datetime.utcnow() + timedelta(hours=SecretRotation.GRACE_PERIOD_HOURS)
        
        # Guardar secreto viejo con TTL
        redis_client.setex(
            f"valid_secret:{old_secret[:8]}",  # Solo prefijo por seguridad
            timedelta(hours=SecretRotation.GRACE_PERIOD_HOURS),
            old_secret
        )
        
        print(f"âœ… RotaciÃ³n iniciada. Secreto viejo vÃ¡lido hasta: {grace_end}")
        print(f"âš ï¸  Actualiza JWT_SECRET en .env con: {new_secret[:8]}...")
        
        return {
            "old_secret_valid_until": grace_end.isoformat(),
            "action_required": "Actualizar .env y reiniciar servicios"
        }
    
    @staticmethod
    def blacklist_token(token_jti: str, expire_at: datetime):
        """Agregar token especÃ­fico a blacklist (logout, compromiso)"""
        ttl = expire_at - datetime.utcnow()
        if ttl.total_seconds() > 0:
            redis_client.setex(
                f"{SecretRotation.BLACKLIST_PREFIX}{token_jti}",
                ttl,
                "blacklisted"
            )
    
    @staticmethod
    def is_blacklisted(token_jti: str) -> bool:
        return redis_client.exists(f"{SecretRotation.BLACKLIST_PREFIX}{token_jti}")</pre>
                </div>
            </div>
            <div>
                <h4>ğŸ”· C#: RotaciÃ³n con IOptionsMonitor</h4>
                <div class="code-block code-csharp">
<pre>// SecretRotationService.cs
public class SecretRotationService
{
    private readonly IOptionsMonitor&lt;JwtOptions&gt; _jwtOptions;
    private readonly IDistributedCache _cache;
    private const int GracePeriodHours = 24;
    
    public SecretRotationService(
        IOptionsMonitor&lt;JwtOptions&gt; jwtOptions,
        IDistributedCache cache)
    {
        _jwtOptions = jwtOptions;
        _cache = cache;
        
        // Escuchar cambios en configuraciÃ³n
        _jwtOptions.OnChange(OnSecretChanged);
    }
    
    private void OnSecretChanged(JwtOptions newOptions)
    {
        Console.WriteLine("âš ï¸ ConfiguraciÃ³n JWT actualizada");
        // LÃ³gica de migraciÃ³n gradual
    }
    
    public async Task BlacklistTokenAsync(string jti, DateTime expireAt)
    {
        var ttl = expireAt - DateTime.UtcNow;
        if (ttl > TimeSpan.Zero)
        {
            await _cache.SetStringAsync(
                $"blacklist:{jti}",
                "true",
                new DistributedCacheEntryOptions
                {
                    AbsoluteExpirationRelativeToNow = ttl
                }
            );
        }
    }
    
    public async Task&lt;bool&gt; IsBlacklistedAsync(string jti)
    {
        var result = await _cache.GetStringAsync($"blacklist:{jti}");
        return result != null;
    }
}</pre>
                </div>
            </div>
        </div>

        <div class="activity">
            <h3>Actividad: Implementa GestiÃ³n de Secretos (Nivel: Aplicar)</h3>
            <ol>
                <li>Crea el archivo <code>.gitignore</code> con las exclusiones necesarias.</li>
                <li>Crea <code>.env</code> (Python) o configura User Secrets (C#) con tus credenciales.</li>
                <li>Crea <code>.env.example</code> como plantilla documentada.</li>
                <li>Refactoriza tu cÃ³digo para usar la configuraciÃ³n externalizada.</li>
                <li>Verifica que la aplicaciÃ³n falle si falta algÃºn secreto requerido.</li>
                <li><strong>Prueba de fuego:</strong> Ejecuta <code>git status</code> â€” tu <code>.env</code> NO debe aparecer.</li>
            </ol>
        </div>

        <!-- Checkpoint Fase 1 -->
        <div class="checkpoint">
            <h3><span role="img" aria-label="marca de verificaciÃ³n">âœ…</span> Checkpoint Fase 1: GestiÃ³n de Secretos</h3>
            <ul>
                <li>â˜ <code>.env</code> creado con todos los secretos (DB, JWT, APIs)</li>
                <li>â˜ <code>.gitignore</code> incluye <code>.env</code> y archivos sensibles</li>
                <li>â˜ <code>.env.example</code> creado como plantilla</li>
                <li>â˜ CÃ³digo refactorizado para leer de variables de entorno</li>
                <li>â˜ AplicaciÃ³n falla si falta un secreto requerido</li>
                <li>â˜ <code>git status</code> no muestra archivos sensibles</li>
            </ul>
        </div>

        <!-- PAUSA IA: DespuÃ©s de Fase 1 -->
        <div class="ai-challenge">
            <h3><span role="img" aria-label="robot">ğŸ¤–</span> Reto IA #3: AuditorÃ­a de tu ConfiguraciÃ³n de Secretos</h3>
            <p>Valida tu implementaciÃ³n con anÃ¡lisis de IA:</p>
            <pre>ActÃºa como un ingeniero de seguridad DevSecOps. Audita mi configuraciÃ³n de secretos:

**Mi .env.example:**
```
[Pega aquÃ­ tu .env.example]
```

**Mi cÃ³digo de configuraciÃ³n:**
```
[Pega aquÃ­ tu config.py o JwtOptions.cs]
```

**Mi .gitignore:**
```
[Pega aquÃ­ tu .gitignore]
```

Analiza:
1. **Completitud:** Â¿Faltan secretos que deberÃ­an estar externalizados?
2. **Seguridad del .env.example:** Â¿Revela informaciÃ³n sensible en los placeholders?
3. **ValidaciÃ³n:** Â¿El cÃ³digo valida correctamente los secretos?
4. **RotaciÃ³n:** Â¿Hay estrategia para rotar secretos sin downtime?
5. **Mejores prÃ¡cticas:** Compara con estÃ¡ndares OWASP Secrets Management.

Genera un score de 1-10 y recomendaciones priorizadas.</pre>
            <p><strong>ğŸ“ Entregable:</strong> Implementa al menos 2 recomendaciones de la auditorÃ­a.</p>
        </div>

        <!-- Preguntas de ProfundizaciÃ³n Fase 1 -->
        <div class="deep-questions">
            <h3><span role="img" aria-label="pensando">ğŸ¤”</span> Preguntas para Profundizar (Fase 1)</h3>
            <ol>
                <li>Â¿Por quÃ© <code>.env.example</code> deberÃ­a tener valores placeholder en lugar de ejemplos reales como <code>password123</code>?</li>
                <li>Si usas Docker, Â¿cÃ³mo pasarÃ­as secretos al contenedor sin exponerlos en el Dockerfile?</li>
                <li>Â¿QuÃ© ventajas tiene HashiCorp Vault sobre archivos <code>.env</code> para un equipo de 20 desarrolladores?</li>
                <li>Si sospechas que tu JWT_SECRET fue comprometido, Â¿cuÃ¡l es el procedimiento de respuesta a incidentes?</li>
                <li>Â¿Por quÃ© el JWT_SECRET y JWT_REFRESH_SECRET deben ser diferentes?</li>
            </ol>
        </div>

        <div class="warning">
            <h3><span role="img" aria-label="lupa">ğŸ”</span> Errores Comunes en GestiÃ³n de Secretos</h3>
            <ul>
                <li><strong>EntropÃ­a baja:</strong> Usa <code>openssl rand -hex 32</code> para generar secretos de 256 bits mÃ­nimo.</li>
                <li><strong>Leak en logs:</strong> Nunca loguees <code>os.getenv("SECRET")</code> ni el contenido de tokens.</li>
                <li><strong>Mismo secreto en todos los entornos:</strong> Dev, staging y prod deben tener secretos diferentes.</li>
                <li><strong>Secretos en docker-compose.yml:</strong> Usa <code>docker secrets</code> o <code>env_file</code> sin versionar.</li>
                <li><strong>Confiar solo en .gitignore:</strong> Si ya subiste un secreto, estÃ¡ en el historial de Git. Debes rotar.</li>
            </ul>
        </div>
    </div>

    <!-- â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• -->
    <!-- FASE 2: HTTPS/TLS -->
    <!-- â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• -->
    <div class="phase">
        <h2 data-icon="ğŸ”’" aria-label="Candado - Fase 2: Implementando HTTPS">Fase 2: Implementando HTTPS (90 min)</h2>
        <p>HTTPS = HTTP + TLS. Necesitas: un <strong>certificado</strong> (identidad pÃºblica) y una <strong>llave privada</strong> (secreto del servidor).</p>

        <h3>ğŸ“Š ComparaciÃ³n de Herramientas para Certificados</h3>
        <table class="comparison-table">
            <thead>
                <tr>
                    <th>Herramienta</th>
                    <th>Caso de Uso</th>
                    <th>Ventajas</th>
                    <th>Desventajas</th>
                </tr>
            </thead>
            <tbody>
                <tr>
                    <td><strong>mkcert</strong></td>
                    <td>Desarrollo local</td>
                    <td>Confianza automÃ¡tica en browsers, fÃ¡cil instalaciÃ³n</td>
                    <td>No vÃ¡lido en producciÃ³n, requiere instalaciÃ³n</td>
                </tr>
                <tr>
                    <td><strong>openssl</strong></td>
                    <td>Universal</td>
                    <td>Sin dependencias, flexible, disponible en todo servidor</td>
                    <td>ConfiguraciÃ³n manual de trust, sintaxis compleja</td>
                </tr>
                <tr>
                    <td><strong>Certbot (Let's Encrypt)</strong></td>
                    <td>ProducciÃ³n</td>
                    <td>Gratuito, renovaciÃ³n automÃ¡tica, reconocido globalmente</td>
                    <td>Requiere dominio pÃºblico y puertos 80/443 abiertos</td>
                </tr>
                <tr>
                    <td><strong>AWS ACM</strong></td>
                    <td>AWS Cloud</td>
                    <td>IntegraciÃ³n nativa con ALB/CloudFront, rotaciÃ³n automÃ¡tica</td>
                    <td>Vendor lock-in, no exportable</td>
                </tr>
                <tr>
                    <td><strong>Azure Key Vault</strong></td>
                    <td>Azure Cloud</td>
                    <td>GestiÃ³n centralizada, auditorÃ­a, integraciÃ³n con App Service</td>
                    <td>Costo adicional, curva de aprendizaje</td>
                </tr>
            </tbody>
        </table>

        <h3>Subfase 2.1: Generar Certificados de Desarrollo (30 min)</h3>
        
        <div class="tip">
            <strong><span role="img" aria-label="diana">ğŸ¯</span> RecomendaciÃ³n: usa mkcert para desarrollo local</strong><br>
            Instala vÃ­a Homebrew (Mac), Chocolatey (Windows), o tu gestor de paquetes Linux.
        </div>

        <div class="dual-lang">
            <div>
                <h4>OpciÃ³n A: mkcert (Recomendado para dev)</h4>
                <div class="code-block code-bash">
<pre># 1. Instalar segÃºn tu OS
# Mac: brew install mkcert
# Windows: choco install mkcert
# Linux: sudo apt install mkcert

# 2. Instalar CA local (una sola vez)
mkcert -install
# Esto agrega una CA raÃ­z a tu sistema
# Los browsers confiarÃ¡n en certificados firmados por esta CA

# 3. Generar certificado para desarrollo
mkcert -key-file key.pem -cert-file cert.pem localhost 127.0.0.1 ecomarket.local

# Resultado:
# - cert.pem: Certificado pÃºblico
# - key.pem: Llave privada (Â¡proteger!)

# 4. Verificar
openssl x509 -in cert.pem -text -noout | head -20</pre>
                </div>
            </div>
            <div>
                <h4>OpciÃ³n B: openssl (Universal)</h4>
                <div class="code-block code-bash">
<pre># Generar certificado autofirmado (self-signed)
openssl req -x509 -newkey rsa:4096 \
  -keyout key.pem \
  -out cert.pem \
  -days 365 \
  -nodes \
  -subj "/CN=localhost/O=EcoMarket Dev/C=MX"

# Para desarrollo con mÃºltiples hostnames, crear config:
cat > openssl.cnf << EOF
[req]
distinguished_name = req_distinguished_name
x509_extensions = v3_req
prompt = no

[req_distinguished_name]
CN = localhost

[v3_req]
subjectAltName = @alt_names

[alt_names]
DNS.1 = localhost
DNS.2 = ecomarket.local
IP.1 = 127.0.0.1
EOF

openssl req -x509 -newkey rsa:4096 \
  -keyout key.pem -out cert.pem \
  -days 365 -nodes -config openssl.cnf

# Nota: DeberÃ¡s agregar cert.pem a tu trust store manualmente</pre>
                </div>
            </div>
        </div>

        <div class="warning">
            <h3><span role="img" aria-label="advertencia">âš ï¸</span> Â¡Los certificados son secretos!</h3>
            <p>Agrega a tu <code>.gitignore</code>:</p>
            <div class="code-block">
<pre>*.pem
*.key
*.crt
*.pfx
*.p12
certs/</pre>
            </div>
        </div>

        <h3>Subfase 2.2: Configurar Backend para HTTPS (60 min)</h3>

        <div class="dual-lang">
            <div>
                <h4>ğŸ Python (Uvicorn / FastAPI)</h4>
                <div class="code-block code-python">
<pre># main.py - Servidor HTTPS
import uvicorn
from fastapi import FastAPI
from fastapi.middleware.httpsredirect import HTTPSRedirectMiddleware

app = FastAPI(title="EcoMarket API", version="2.0")

# Middleware para redirigir HTTP â†’ HTTPS
# IMPORTANTE: Solo activar en producciÃ³n o cuando HTTPS estÃ© configurado
import os
if os.getenv("ENVIRONMENT") == "production":
    app.add_middleware(HTTPSRedirectMiddleware)

@app.get("/")
def root():
    return {"status": "secure", "protocol": "HTTPS"}

@app.get("/health")
def health():
    return {"status": "ok"}

if __name__ == "__main__":
    # Desarrollo con HTTPS
    uvicorn.run(
        "main:app",
        host="0.0.0.0",
        port=8443,
        ssl_keyfile="./certs/key.pem",
        ssl_certfile="./certs/cert.pem",
        reload=True  # Solo en desarrollo
    )
    
# Alternativa: ejecutar desde terminal
# uvicorn main:app --host 0.0.0.0 --port 8443 \
#   --ssl-keyfile ./certs/key.pem \
#   --ssl-certfile ./certs/cert.pem</pre>
                </div>
                <p>Accede: <code>https://localhost:8443</code></p>
            </div>
            <div>
                <h4>ğŸ”· C# (.NET Kestrel)</h4>
                <div class="code-block code-csharp">
<pre>// Program.cs - ConfiguraciÃ³n HTTPS
var builder = WebApplication.CreateBuilder(args);

// Configurar Kestrel para HTTPS
builder.WebHost.ConfigureKestrel(options =>
{
    // Puerto HTTP (redirigirÃ¡ a HTTPS)
    options.ListenLocalhost(5000);
    
    // Puerto HTTPS
    options.ListenLocalhost(5001, listenOptions =>
    {
        listenOptions.UseHttps("certs/cert.pfx", "password_del_cert");
        // O con archivos PEM:
        // listenOptions.UseHttps(certPath, keyPath);
    });
});

var app = builder.Build();

// Middleware de redirecciÃ³n HTTP â†’ HTTPS
app.UseHttpsRedirection();

// Habilitar HSTS en producciÃ³n
if (!app.Environment.IsDevelopment())
{
    app.UseHsts();
}

app.MapGet("/", () => new { status = "secure", protocol = "HTTPS" });
app.MapGet("/health", () => new { status = "ok" });

app.Run();</pre>
                </div>

                <div class="code-block code-bash">
<pre># Convertir PEM a PFX (requerido por .NET)
openssl pkcs12 -export \
  -out cert.pfx \
  -inkey key.pem \
  -in cert.pem \
  -password pass:tu_password

# O usar certificado de desarrollo de .NET
dotnet dev-certs https --trust</pre>
                </div>
            </div>
        </div>

        <div class="activity">
            <h3>Actividad: VerificaciÃ³n E2E de HTTPS (Nivel: Aplicar)</h3>
            <ol>
                <li><strong>Levanta tu backend en HTTPS</strong> (puerto 8443 o 5001).</li>
                <li><strong>Prueba acceso HTTP:</strong> Intenta <code>http://localhost:8443</code> â€” debe fallar o redirigir.</li>
                <li><strong>Prueba en browser:</strong> Accede <code>https://localhost:8443</code> â€” verifica el candado ğŸ”’</li>
                <li><strong>Inspecciona certificado:</strong> Click en candado â†’ "Certificado" â†’ verifica emisor y validez.</li>
                <li><strong>Prueba con curl:</strong>
                    <div class="code-block code-bash">
<pre># Con certificado self-signed, necesitas -k (insecure)
curl -k https://localhost:8443/health

# O agregar el certificado como confiable
curl --cacert cert.pem https://localhost:8443/health</pre>
                    </div>
                </li>
                <li><strong>Prueba en Postman:</strong> Settings â†’ SSL verification â†’ OFF (solo dev)</li>
            </ol>
        </div>

        <h3><span role="img" aria-label="microscopio">ğŸ”¬</span> Actividad Avanzada: Captura de TrÃ¡fico con Wireshark</h3>
        <div class="activity">
            <h4>DemostraciÃ³n Visual: HTTP vs HTTPS (Nivel: Analizar)</h4>
            <p>Esta actividad demuestra visualmente por quÃ© HTTPS es esencial.</p>
            
            <div class="code-block code-bash">
<pre># PreparaciÃ³n
# 1. Instala Wireshark: https://www.wireshark.org/
# 2. Levanta tu API temporalmente en HTTP (puerto 8000) y HTTPS (puerto 8443)

# === CAPTURA HTTP (INSEGURO) ===
# Paso 1: Abre Wireshark
# Paso 2: Selecciona interfaz "Loopback: lo0" (Mac) o "Adapter for loopback" (Windows)
# Paso 3: Aplica filtro: http && tcp.port == 8000
# Paso 4: Inicia captura

# Paso 5: En otra terminal, envÃ­a request con credenciales
curl -X POST http://localhost:8000/login \
  -H "Content-Type: application/json" \
  -d '{"username": "admin", "password": "secreto123"}'

# Paso 6: En Wireshark, detÃ©n captura y busca el paquete POST
# Paso 7: Click derecho â†’ Follow â†’ HTTP Stream
# ğŸš¨ OBSERVA: Las credenciales aparecen en TEXTO PLANO

# === CAPTURA HTTPS (SEGURO) ===
# Paso 1: Cambia filtro a: tcp.port == 8443
# Paso 2: Inicia nueva captura

# Paso 3: EnvÃ­a el mismo request por HTTPS
curl -k -X POST https://localhost:8443/login \
  -H "Content-Type: application/json" \
  -d '{"username": "admin", "password": "secreto123"}'

# Paso 4: En Wireshark, busca paquetes TLS
# Paso 5: Intenta Follow â†’ TLS Stream
# âœ… OBSERVA: Solo ves "Application Data" cifrado, NO las credenciales</pre>
            </div>
            
            <p><strong>ğŸ“¸ Documenta:</strong> Toma screenshots de ambas capturas para tu informe del Hito 2.</p>
        </div>

        <!-- Checkpoint Fase 2 -->
        <div class="checkpoint">
            <h3><span role="img" aria-label="marca de verificaciÃ³n">âœ…</span> Checkpoint Fase 2: HTTPS Implementado</h3>
            <ul>
                <li>â˜ Certificados generados (cert.pem, key.pem o .pfx)</li>
                <li>â˜ Certificados agregados a .gitignore</li>
                <li>â˜ Servidor levanta en puerto HTTPS (8443 o 5001)</li>
                <li>â˜ Browser muestra candado ğŸ”’ (puede requerir aceptar excepciÃ³n para self-signed)</li>
                <li>â˜ Middleware de redirecciÃ³n HTTPâ†’HTTPS funcionando</li>
                <li>â˜ curl/Postman pueden hacer requests HTTPS</li>
                <li>â˜ (Bonus) Captura Wireshark demuestra cifrado</li>
            </ul>
        </div>

        <!-- PAUSA IA: DespuÃ©s de Fase 2 -->
        <div class="ai-challenge">
            <h3><span role="img" aria-label="robot">ğŸ¤–</span> Reto IA #4: Troubleshooting de HTTPS</h3>
            <p>Usa IA para diagnosticar y resolver problemas comunes:</p>
            <pre>Estoy configurando HTTPS para mi API [Python/FastAPI | C#/.NET] y tengo el siguiente problema:

**SÃ­ntoma:**
[Describe el error exacto, por ejemplo:]
- Browser dice "NET::ERR_CERT_AUTHORITY_INVALID"
- curl falla con "SSL certificate problem: self signed certificate"
- El servidor no inicia con error "ssl.SSLError: [SSL] PEM lib"

**Mi configuraciÃ³n:**
- OS: [Windows/Mac/Linux]
- Certificado generado con: [mkcert/openssl]
- Comando usado: [pega el comando]

**Logs relevantes:**
```
[Pega logs de error]
```

Necesito:
1. DiagnÃ³stico de la causa raÃ­z
2. Comandos especÃ­ficos para verificar el problema
3. SoluciÃ³n paso a paso
4. CÃ³mo prevenir este error en el futuro</pre>
            <p><strong>ğŸ“ Documenta:</strong> Si encuentras un problema, guarda el diagnÃ³stico y soluciÃ³n para tu README.</p>
        </div>

        <!-- Preguntas de ProfundizaciÃ³n Fase 2 -->
        <div class="deep-questions">
            <h3><span role="img" aria-label="pensando">ğŸ¤”</span> Preguntas para Profundizar (Fase 2)</h3>
            <ol>
                <li>Â¿Por quÃ© los certificados de Let's Encrypt solo duran 90 dÃ­as mientras que otros CAs dan certificados de 1-2 aÃ±os?</li>
                <li>Si tu certificado expira a las 3 AM de un domingo, Â¿quÃ© pasa con tus usuarios? Â¿CÃ³mo prevenirÃ­as esto?</li>
                <li>Â¿CuÃ¡l es la diferencia entre TLS 1.2 y TLS 1.3? Â¿Por quÃ© deberÃ­as preferir 1.3?</li>
                <li>Â¿QuÃ© es Certificate Pinning y por quÃ© es importante para apps mÃ³viles?</li>
                <li>Si un atacante obtiene tu llave privada (key.pem), Â¿quÃ© puede hacer? Â¿CÃ³mo te recuperas?</li>
                <li>Â¿Por quÃ© no es suficiente tener HTTPS si el certificado es autofirmado en producciÃ³n?</li>
            </ol>
        </div>

        <div class="warning">
            <h3><span role="img" aria-label="lupa">ğŸ”</span> Errores Comunes en HTTPS</h3>
            <ul>
                <li><strong>ERR_CERT_AUTHORITY_INVALID:</strong> Browser no confÃ­a en el CA. SoluciÃ³n: <code>mkcert -install</code> o importar CA manualmente.</li>
                <li><strong>No redirect HTTPâ†’HTTPS:</strong> Verifica que el middleware estÃ¡ activo y en el orden correcto.</li>
                <li><strong>Mixed content:</strong> Tu pÃ¡gina HTTPS carga recursos HTTP. Usa URLs relativas o HTTPS absolutas.</li>
                <li><strong>Cert expirado:</strong> Implementa renovaciÃ³n automÃ¡tica con certbot (producciÃ³n) o script de alerta.</li>
                <li><strong>Wrong hostname:</strong> El certificado debe incluir el hostname exacto (localhost vs 127.0.0.1 vs nombre.local).</li>
            </ul>
        </div>

        <!-- Actividad Docker -->
        <div class="activity">
            <h3>Actividad Opcional: HTTPS en Docker (+1% Bonos)</h3>
            <div class="code-block">
<pre># docker-compose.yml
version: '3.8'
services:
  backend:
    build: .
    ports:
      - "8443:8443"
    volumes:
      - ./certs:/app/certs:ro  # Read-only
    environment:
      - ENVIRONMENT=development
    command: >
      uvicorn main:app 
      --host 0.0.0.0 
      --port 8443 
      --ssl-keyfile /app/certs/key.pem 
      --ssl-certfile /app/certs/cert.pem

# Dockerfile
FROM python:3.12-slim
WORKDIR /app
COPY requirements.txt .
RUN pip install --no-cache-dir -r requirements.txt
COPY . .
# NO copiar certs en la imagen - usar volumen
EXPOSE 8443</pre>
            </div>
            <div class="code-block code-bash">
<pre># Levantar
docker-compose up --build

# Probar
curl -k https://localhost:8443/health</pre>
            </div>
        </div>
    </div>

    <!-- â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• -->
    <!-- FASE 3: PRODUCCIÃ“N -->
    <!-- â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• -->
    <div class="phase">
        <h2 data-icon="ğŸš€" aria-label="Cohete - Fase 3: Arquitectura de ProducciÃ³n">Fase 3: Arquitectura de ProducciÃ³n (SSL Termination) (30 min)</h2>
        <p>En sistemas distribuidos, usa un <strong>Reverse Proxy</strong> para "terminar" TLS. Esto reduce carga de CPU en microservicios y centraliza la gestiÃ³n de certificados.</p>

        <div class="diagram">
            <div class="mermaid" role="img" aria-label="Diagrama de arquitectura mostrando SSL Termination: el cliente se conecta por HTTPS al Load Balancer Nginx, que descifra el trÃ¡fico y lo envÃ­a por HTTP a los microservicios internos Auth, Productos y Ã“rdenes">
graph LR
    subgraph "Internet"
        Client[ğŸ“± Cliente]
    end
    
    subgraph "DMZ"
        LB[ğŸ” Nginx / Load Balancer<br/>SSL Termination]
    end
    
    subgraph "Red Privada"
        S1[ğŸŸ¢ Auth Service]
        S2[ğŸŸ¢ Productos Service]
        S3[ğŸŸ¢ Ã“rdenes Service]
    end
    
    Client -- "HTTPS (443) ğŸ”’" --> LB
    LB -- "HTTP (80)" --> S1
    LB -- "HTTP (80)" --> S2
    LB -- "HTTP (80)" --> S3
    
    style LB fill:#f9cb9c,stroke:#e69138
    style S1 fill:#b6d7a8,stroke:#6aa84f
    style S2 fill:#b6d7a8,stroke:#6aa84f
    style S3 fill:#b6d7a8,stroke:#6aa84f
            </div>
        </div>
        <p style="text-align: center;"><em>SSL Termination: El proxy descifra TLS y reenvÃ­a HTTP internamente. Para Zero Trust, usa mTLS entre servicios.</em></p>

        <h3>ConfiguraciÃ³n Nginx con Let's Encrypt (ProducciÃ³n)</h3>
        <div class="code-block">
<pre># /etc/nginx/sites-available/ecomarket
server {
    listen 80;
    server_name api.ecomarket.com;
    
    # Redirigir todo HTTP a HTTPS
    return 301 https://$server_name$request_uri;
}

server {
    listen 443 ssl http2;
    server_name api.ecomarket.com;
    
    # Certificados de Let's Encrypt (generados por Certbot)
    ssl_certificate /etc/letsencrypt/live/api.ecomarket.com/fullchain.pem;
    ssl_certificate_key /etc/letsencrypt/live/api.ecomarket.com/privkey.pem;
    
    # ConfiguraciÃ³n TLS moderna (Mozilla SSL Config Generator)
    ssl_protocols TLSv1.2 TLSv1.3;
    ssl_ciphers ECDHE-ECDSA-AES128-GCM-SHA256:ECDHE-RSA-AES128-GCM-SHA256;
    ssl_prefer_server_ciphers off;
    
    # HSTS - forzar HTTPS por 1 aÃ±o
    add_header Strict-Transport-Security "max-age=31536000; includeSubDomains" always;
    
    # Headers de seguridad adicionales
    add_header X-Content-Type-Options "nosniff" always;
    add_header X-Frame-Options "DENY" always;
    
    location / {
        proxy_pass http://backend:8000;  # Backend interno (sin TLS)
        proxy_http_version 1.1;
        proxy_set_header Host $host;
        proxy_set_header X-Real-IP $remote_addr;
        proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;
        proxy_set_header X-Forwarded-Proto $scheme;
    }
}

# RenovaciÃ³n automÃ¡tica de certificados (cron job)
# 0 0 1 * * certbot renew --quiet && nginx -s reload</pre>
        </div>

        <div class="tip">
            <h3>ğŸ”„ Certbot: ObtenciÃ³n y RenovaciÃ³n AutomÃ¡tica</h3>
            <div class="code-block code-bash">
<pre># Instalar Certbot
sudo apt install certbot python3-certbot-nginx

# Obtener certificado (primera vez)
sudo certbot --nginx -d api.ecomarket.com -d www.api.ecomarket.com

# Probar renovaciÃ³n
sudo certbot renew --dry-run

# La renovaciÃ³n automÃ¡tica se configura en /etc/cron.d/certbot</pre>
            </div>
        </div>

        <div class="reflection">
            <h3><span role="img" aria-label="pensando">ğŸ¤”</span> ReflexiÃ³n: Â¿HTTP interno es seguro?</h3>
            <p>El trÃ¡fico interno (Nginx â†’ microservicios) viaja sin cifrar. Esto es aceptable si:</p>
            <ul>
                <li>La red interna estÃ¡ aislada (VPC, Kubernetes network policies)</li>
                <li>ConfÃ­as en todos los servicios de la red</li>
            </ul>
            <p>Para <strong>Zero Trust</strong> (mÃ¡xima seguridad), implementa <strong>mTLS</strong> (mutual TLS) entre servicios: cada servicio tiene su propio certificado y verifica al otro.</p>
        </div>

        <!-- PAUSA IA: DiseÃ±o de Arquitectura -->
        <div class="ai-challenge">
            <h3><span role="img" aria-label="robot">ğŸ¤–</span> Reto IA #5: DiseÃ±a tu Arquitectura de Seguridad (Nivel: Crear)</h3>
            <p>Usa IA para crear un diseÃ±o personalizado para tu proyecto:</p>
            <pre>ActÃºa como un arquitecto de soluciones cloud con especialidad en seguridad.

**Mi contexto EcoMarket:**
- Stack: [Python/FastAPI | C#/.NET]
- Servicios: [Lista tus microservicios, ej: Auth, Productos, Ã“rdenes, Pagos]
- Base de datos: [PostgreSQL/MongoDB/etc.]
- Despliegue actual: [Local/Docker/AWS/Azure/GCP]
- Usuarios esperados: [nÃºmero aproximado]
- Datos sensibles: [tipos de datos que manejas]

**Requisitos:**
1. JWT implementado (Semana 8)
2. HTTPS obligatorio para clientes
3. Secretos externalizados
4. Presupuesto: [bajo/medio/alto]

**Genera:**
1. Diagrama de arquitectura (en formato Mermaid) con:
   - Flujo de autenticaciÃ³n completo
   - SSL termination point
   - UbicaciÃ³n de secretos
   - ComunicaciÃ³n entre servicios
   
2. Decisiones de diseÃ±o justificadas:
   - Â¿SSL termination en proxy o en cada servicio?
   - Â¿mTLS interno o HTTP?
   - Â¿Vault vs. env vars vs. cloud secrets manager?
   
3. Checklist de implementaciÃ³n priorizado

4. EstimaciÃ³n de esfuerzo (horas) por componente</pre>
            <p><strong>ğŸ“ Entregable:</strong> El diagrama Mermaid generado serÃ¡ parte de tu documentaciÃ³n del Hito 2.</p>
        </div>

        <!-- Checkpoint Fase 3 -->
        <div class="checkpoint">
            <h3><span role="img" aria-label="marca de verificaciÃ³n">âœ…</span> Checkpoint Fase 3: Arquitectura de ProducciÃ³n</h3>
            <ul>
                <li>â˜ Entiendo SSL Termination y cuÃ¡ndo usarlo</li>
                <li>â˜ Conozco la diferencia entre HTTP interno vs mTLS</li>
                <li>â˜ SÃ© cÃ³mo obtener certificados con Let's Encrypt</li>
                <li>â˜ Tengo un diseÃ±o de arquitectura para mi proyecto</li>
                <li>â˜ Conozco las implicaciones de Zero Trust</li>
            </ul>
        </div>

        <!-- Preguntas de ProfundizaciÃ³n Fase 3 -->
        <div class="deep-questions">
            <h3><span role="img" aria-label="pensando">ğŸ¤”</span> Preguntas para Profundizar (Fase 3)</h3>
            <ol>
                <li>Â¿CuÃ¡l es el overhead de CPU de TLS? Â¿Justifica usar SSL termination?</li>
                <li>Si usas Kubernetes, Â¿cÃ³mo implementarÃ­as mTLS automÃ¡tico? (Pista: service mesh)</li>
                <li>Â¿QuÃ© headers de seguridad adicionales a HSTS deberÃ­as implementar y por quÃ©?</li>
                <li>Â¿CÃ³mo afecta HTTP/2 y HTTP/3 a tu estrategia de TLS?</li>
                <li>Si tu load balancer es comprometido, Â¿quÃ© datos quedan expuestos?</li>
            </ol>
        </div>
    </div>

    <!-- â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• -->
    <!-- DIAGRAMA EVOLUTIVO -->
    <!-- â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• -->
    <div class="phase">
        <h2 data-icon="ğŸ“ˆ" aria-label="GrÃ¡fica ascendente - EvoluciÃ³n del proyecto">EvoluciÃ³n: De API Insegura a Fortaleza Digital</h2>
        
        <div class="diagram">
EVOLUCIÃ“N DE ECOMARKET: Semanas 1-9
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

SEMANAS 1-4 (Monolito):
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚           MONOLITO                     â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚  â€¢ Sesiones en memoria           â”‚  â”‚
â”‚  â”‚  â€¢ ContraseÃ±as en cÃ³digo         â”‚  â”‚
â”‚  â”‚  â€¢ HTTP sin cifrar               â”‚  â”‚
â”‚  â”‚  â€¢ Un solo servidor              â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚                                        â”‚
â”‚  ğŸ”´ Problemas:                         â”‚
â”‚  â€¢ No escala horizontalmente          â”‚
â”‚  â€¢ Secretos expuestos en Git          â”‚
â”‚  â€¢ Datos viajan en texto plano        â”‚
â”‚  â€¢ Sin autenticaciÃ³n robusta          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

SEMANAS 5-7 (Distribuido sin Seguridad):
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚         LOAD BALANCER                  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”˜
            â”‚           â”‚           â”‚
   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”  â”Œâ”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”
   â”‚ Servicio 1â”‚  â”‚Servicio 2â”‚  â”‚Servicio 3â”‚
   â””â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”˜
         â”‚             â”‚              â”‚
         â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                       â”‚
         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
         â”‚  BD Replicada/Sharded     â”‚
         â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

   ğŸŸ¡ Mejoras:
   â€¢ Escala horizontalmente âœ…
   â€¢ Alta disponibilidad âœ…
   
   ğŸ”´ Pero aÃºn:
   â€¢ Secretos hardcodeados
   â€¢ HTTP sin cifrar
   â€¢ Sin autenticaciÃ³n distribuida

SEMANAS 8-9 (Distribuido + Seguro):
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                                                                         â”‚
â”‚   ğŸ“± Clientes                                                           â”‚
â”‚       â”‚                                                                 â”‚
â”‚       â”‚ HTTPS (TLS 1.3) ğŸ”’                                              â”‚
â”‚       â–¼                                                                 â”‚
â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                â”‚
â”‚   â”‚         NGINX (SSL Termination)                    â”‚                â”‚
â”‚   â”‚         + Let's Encrypt Certs                      â”‚                â”‚
â”‚   â”‚         + Rate Limiting                            â”‚                â”‚
â”‚   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                â”‚
â”‚                       â”‚                                                 â”‚
â”‚          HTTP interno (o mTLS para Zero Trust)                          â”‚
â”‚                       â”‚                                                 â”‚
â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                â”‚
â”‚   â”‚                   â”‚                               â”‚                 â”‚
â”‚   â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚                â”‚
â”‚   â”‚  â”‚           JWT Middleware                    â”‚   â”‚                â”‚
â”‚   â”‚  â”‚    (Valida tokens en cada servicio)        â”‚   â”‚                â”‚
â”‚   â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚                â”‚
â”‚   â”‚                   â”‚                               â”‚                 â”‚
â”‚   â”‚     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                â”‚                 â”‚
â”‚   â”‚     â”‚             â”‚             â”‚                â”‚                 â”‚
â”‚   â”‚ â”Œâ”€â”€â”€â–¼â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â–¼â”€â”€â”€â”€â”   â”Œâ”€â”€â”€â”€â–¼â”€â”€â”€â”€â”          â”‚                 â”‚
â”‚   â”‚ â”‚ Auth  â”‚    â”‚Productosâ”‚   â”‚ Ã“rdenes â”‚          â”‚                 â”‚
â”‚   â”‚ â”‚Serviceâ”‚    â”‚ Service â”‚   â”‚ Service â”‚          â”‚                 â”‚
â”‚   â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜          â”‚                 â”‚
â”‚   â”‚                                                  â”‚                 â”‚
â”‚   â”‚              RED PRIVADA                         â”‚                 â”‚
â”‚   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                â”‚
â”‚                       â”‚                                                 â”‚
â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                   â”‚
â”‚   â”‚              BD Replicada                       â”‚                   â”‚
â”‚   â”‚         (ConexiÃ³n cifrada TLS)                 â”‚                   â”‚
â”‚   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                   â”‚
â”‚                                                                         â”‚
â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                   â”‚
â”‚   â”‚    ğŸ” GestiÃ³n de Secretos                      â”‚                   â”‚
â”‚   â”‚    (.env / Vault / Cloud Secrets Manager)      â”‚                   â”‚
â”‚   â”‚    â€¢ JWT_SECRET                                â”‚                   â”‚
â”‚   â”‚    â€¢ DB_PASSWORD                               â”‚                   â”‚
â”‚   â”‚    â€¢ API_KEYS                                  â”‚                   â”‚
â”‚   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                   â”‚
â”‚                                                                         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

âœ… RESULTADO FINAL:
â€¢ Escalabilidad horizontal sin lÃ­mites (Sem 5-6)
â€¢ Alta disponibilidad con replicaciÃ³n (Sem 7)
â€¢ AutenticaciÃ³n distribuida con JWT (Sem 8)
â€¢ ComunicaciÃ³n cifrada con HTTPS (Sem 9)
â€¢ Secretos protegidos y rotables (Sem 9)
â€¢ Auditable y compliant (GDPR, PCI-DSS)
        </div>
    </div>

    <!-- â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• -->
    <!-- CIERRE E INTEGRACIÃ“N -->
    <!-- â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• -->
    <div class="phase" style="background: #e8f5e8; border-top: 5px solid #28a745;">
        <h2 data-icon="ğŸ“" aria-label="Nota con lÃ¡piz - Checklist final">Checklist Final Hito 2: IntegraciÃ³n Completa</h2>
        <p>Verifica todos los requisitos antes de entregar:</p>
        
        <table class="comparison-table">
            <thead>
                <tr>
                    <th>Requisito</th>
                    <th>Criterio de AceptaciÃ³n</th>
                    <th>âœ“</th>
                </tr>
            </thead>
            <tbody>
                <tr>
                    <td><strong>AutenticaciÃ³n (Sem 8)</strong></td>
                    <td>/login devuelve JWT vÃ¡lido. Endpoints privados retornan 401 sin token.</td>
                    <td>â˜</td>
                </tr>
                <tr>
                    <td><strong>AutorizaciÃ³n (Sem 8)</strong></td>
                    <td>Roles implementados (admin/user). 403 si rol insuficiente.</td>
                    <td>â˜</td>
                </tr>
                <tr>
                    <td><strong>Secretos (Sem 9)</strong></td>
                    <td>Cero hardcode. .env/.UserSecrets funcionando. .env.example presente.</td>
                    <td>â˜</td>
                </tr>
                <tr>
                    <td><strong>HTTPS (Sem 9)</strong></td>
                    <td>Servidor en puerto HTTPS. Redirect HTTPâ†’HTTPS. Candado en browser.</td>
                    <td>â˜</td>
                </tr>
                <tr>
                    <td><strong>DocumentaciÃ³n</strong></td>
                    <td>README con: setup de certs, configuraciÃ³n de .env, troubleshooting.</td>
                    <td>â˜</td>
                </tr>
                <tr>
                    <td><strong>Demo Video</strong></td>
                    <td>Video 2-3 min mostrando: login, token, HTTPS, endpoint protegido.</td>
                    <td>â˜</td>
                </tr>
                <tr>
                    <td><strong>Informe TÃ©cnico</strong></td>
                    <td>JustificaciÃ³n de decisiones. Diagrama de arquitectura.</td>
                    <td>â˜</td>
                </tr>
            </tbody>
        </table>

        <h3><span role="img" aria-label="enlace">ğŸ”—</span> Actividad Integradora: Flujo E2E Seguro (Nivel: Crear)</h3>
        <div class="activity">
            <p>Demuestra el flujo completo JWT + HTTPS + Secretos:</p>
            <ol>
                <li>Cliente hace POST /login vÃ­a <strong>HTTPS</strong> (captura en Wireshark: datos cifrados)</li>
                <li>Servidor valida credenciales contra BD (conexiÃ³n tambiÃ©n cifrada)</li>
                <li>Servidor firma JWT con <strong>SECRET del .env</strong> (no hardcoded)</li>
                <li>Token viaja de regreso cifrado por <strong>TLS</strong></li>
                <li>Cliente usa token para GET /ordenes (endpoint protegido)</li>
                <li>Middleware valida token con el mismo SECRET del .env</li>
                <li>Respuesta cifrada por TLS llega al cliente</li>
            </ol>
            <p><strong>Documenta en tu informe:</strong></p>
            <ul>
                <li>Â¿QuÃ© protege <strong>HTTPS</strong>? â†’ Datos en trÃ¡nsito (confidencialidad)</li>
                <li>Â¿QuÃ© protege <strong>JWT</strong>? â†’ Identidad y autorizaciÃ³n</li>
                <li>Â¿QuÃ© protege el <strong>.env</strong>? â†’ Secretos fuera del cÃ³digo</li>
                <li>Â¿QuÃ© pasa si falla cada uno?</li>
            </ul>
        </div>

        <!-- RETO IA FINAL -->
        <div class="ai-challenge">
            <h3><span role="img" aria-label="robot">ğŸ¤–</span> Reto IA Final: SÃ­ntesis y AuditorÃ­a de Cierre</h3>
            <pre>Realiza una auditorÃ­a final de mi implementaciÃ³n de seguridad para EcoMarket Hito 2.

**Estado actual:**
1. JWT: [Describe tu implementaciÃ³n - algoritmo, claims, expiraciÃ³n, refresh]
2. HTTPS: [Describe - certificado usado, puerto, redirecciÃ³n]
3. Secretos: [Describe - dÃ³nde estÃ¡n, cÃ³mo se cargan, quÃ© incluyen]

**CÃ³digo de mi middleware de autenticaciÃ³n:**
```
[Pega tu cÃ³digo]
```

**Mi .env.example:**
```
[Pega tu plantilla]
```

**Genera:**
1. **Score de seguridad (1-100)** con breakdown por Ã¡rea
2. **Vulnerabilidades encontradas** (crÃ­ticas, medias, bajas)
3. **ComparaciÃ³n antes/despuÃ©s** (vs. tu auditorÃ­a del Reto #1)
4. **Top 3 mejoras** para implementar en siguientes iteraciones
5. **CertificaciÃ³n:** Â¿EstÃ¡ listo para un ambiente de staging? Â¿ProducciÃ³n?

SÃ© riguroso pero constructivo.</pre>
            <p><strong>ğŸ“ Entregable:</strong> Incluye el score y las recomendaciones en tu informe del Hito 2.</p>
        </div>

        <div class="ai-prompt">
            <h4><span role="img" aria-label="robot">ğŸ¤–</span> Prompt para Informe Final</h4>
            <pre>AyÃºdame a redactar la conclusiÃ³n de mi informe tÃ©cnico para Hito 2 EcoMarket.

Cubre:
1. CÃ³mo JWT + HTTPS garantiza la TrÃ­ada CIA:
   - Confidencialidad (Â¿quÃ© componente y cÃ³mo?)
   - Integridad (Â¿quÃ© componente y cÃ³mo?)
   - Disponibilidad (Â¿cÃ³mo se relaciona?)
   
2. Beneficios de externalizar secretos para el ciclo DevOps:
   - CI/CD seguro
   - RotaciÃ³n sin downtime
   - Onboarding de desarrolladores
   
3. DesafÃ­os encontrados y soluciones aplicadas

4. PrÃ³ximos pasos para evoluciÃ³n del sistema:
   - Monitoreo de seguridad
   - Service mesh / mTLS
   - Vault vs cloud secrets

Incluye un diagrama Mermaid de la arquitectura final.
ExtensiÃ³n: ~500 palabras + diagrama.</pre>
        </div>
    </div>

    <!-- â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• -->
    <!-- REFLEXIÃ“N FINAL -->
    <!-- â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• -->
    <div class="phase">
        <h2 data-icon="ğŸ“" aria-label="Birrete de graduaciÃ³n - ReflexiÃ³n final">ReflexiÃ³n Final: De Sistemas Escalables a Sistemas Seguros</h2>

        <div class="reflection">
            <h3><span role="img" aria-label="pensando">ğŸ¤”</span> Preguntas para Profundizar (Cierre de Unidad IV)</h3>
            <ol>
                <li>Â¿QuÃ© trade-offs introduces al pasar de APIs abiertas a APIs protegidas (latencia, complejidad, costos)?</li>
                <li>Â¿CÃ³mo explicarÃ­as a un stakeholder no tÃ©cnico por quÃ© la seguridad es una inversiÃ³n, no un gasto?</li>
                <li>Si maÃ±ana agregas un nuevo microservicio, Â¿quÃ© documentaciÃ³n necesita para integrarse al sistema seguro?</li>
                <li>Â¿CÃ³mo medirÃ­as el ROI de implementar estas medidas de seguridad?</li>
                <li>Â¿QuÃ© harÃ­as diferente si empezaras el proyecto desde cero con estos conocimientos?</li>
                <li>Â¿CÃ³mo se relaciona la seguridad con la confianza del usuario y el Ã©xito del negocio?</li>
            </ol>
            
            <h4 style="margin-top: 20px; color: #dc3545;">ğŸ’­ Pregunta Abierta para ReflexiÃ³n Personal</h4>
            <p style="font-style: italic; font-size: 1.1em; border-left: 3px solid #dc3545; padding-left: 15px; margin: 15px 0;">
                "Â¿QuÃ© concepto de seguridad te sorprendiÃ³ mÃ¡s y por quÃ©?"
            </p>
            <p>Comparte tu respuesta en el foro del curso o inclÃºyela en tu informe del Hito 2. No hay respuesta incorrecta â€” lo importante es la reflexiÃ³n sobre tu propio proceso de aprendizaje.</p>
        </div>

        <div class="tip">
            <h3><span role="img" aria-label="estrella brillante">ğŸŒŸ</span> Valor para tu Carrera Profesional</h3>
            <ul>
                <li><strong>Portafolio:</strong> Ahora tienes un sistema distribuido con autenticaciÃ³n JWT, HTTPS, y gestiÃ³n de secretos â€” tres requisitos en el 90% de ofertas de trabajo backend/DevOps.</li>
                <li><strong>Certificaciones:</strong> Los conceptos cubiertos son fundamentales para AWS Solutions Architect, Azure Administrator, y certificaciones de seguridad.</li>
                <li><strong>Entrevistas:</strong> "CuÃ©ntame sobre un sistema seguro que hayas implementado" â€” ahora tienes una historia real con detalles tÃ©cnicos.</li>
                <li><strong>Pensamiento arquitectÃ³nico:</strong> Pasaste de pensar en cÃ³digo a pensar en sistemas, capas, y trade-offs.</li>
            </ul>
        </div>

        <div class="tip">
            <h3><span role="img" aria-label="bombilla">ğŸ’¡</span> PrÃ³ximos Pasos: Semana 10 y MÃ¡s AllÃ¡</h3>
            <ul>
                <li><strong>Monitoreo de Seguridad:</strong> Prometheus/Grafana para detectar tokens robados, TLS fallidos, patrones de ataque.</li>
                <li><strong>Compliance:</strong> AuditorÃ­as GDPR, logs de acceso, retenciÃ³n de datos.</li>
                <li><strong>Service Mesh:</strong> Istio/Linkerd para mTLS automÃ¡tico entre microservicios.</li>
                <li><strong>Secrets Management Avanzado:</strong> HashiCorp Vault con rotaciÃ³n automÃ¡tica y auditorÃ­a.</li>
                <li><strong>WAF (Web Application Firewall):</strong> ProtecciÃ³n contra OWASP Top 10 a nivel de red.</li>
            </ul>
        </div>
    </div>

    <!-- â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• -->
    <!-- GLOSARIO EXPANDIDO -->
    <!-- â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• -->
    <div class="glossary">
        <h3><span role="img" aria-label="libro abierto">ğŸ“–</span> Glosario TÃ©cnico</h3>
        <dl>
            <dt>TLS (Transport Layer Security)</dt>
            <dd>Protocolo criptogrÃ¡fico para comunicaciÃ³n segura. TLS 1.3 (2018) es el estÃ¡ndar actual, mÃ¡s rÃ¡pido y seguro que TLS 1.2.</dd>
            
            <dt>SSL (Secure Sockets Layer)</dt>
            <dd>Predecesor obsoleto de TLS. El tÃ©rmino "SSL" se usa coloquialmente para referirse a TLS.</dd>
            
            <dt>MITM (Man-in-the-Middle)</dt>
            <dd>Ataque donde un tercero intercepta comunicaciÃ³n entre dos partes. HTTPS previene esto mediante cifrado y verificaciÃ³n de identidad.</dd>
            
            <dt>SSL Termination</dt>
            <dd>PrÃ¡ctica de descifrar TLS en un proxy/load balancer, enviando trÃ¡fico HTTP internamente. Reduce carga en backends.</dd>
            
            <dt>mTLS (Mutual TLS)</dt>
            <dd>TLS donde ambas partes (cliente y servidor) presentan certificados. Usado para comunicaciÃ³n segura entre servicios (Zero Trust).</dd>
            
            <dt>Zero Trust</dt>
            <dd>Modelo de seguridad: "nunca confÃ­es, siempre verifica". Todo acceso requiere autenticaciÃ³n, incluso dentro de la red privada.</dd>
            
            <dt>CA (Certificate Authority)</dt>
            <dd>Entidad que emite certificados digitales. Let's Encrypt es una CA gratuita y automatizada.</dd>
            
            <dt>PKI (Public Key Infrastructure)</dt>
            <dd>Sistema de certificados, claves pÃºblicas/privadas, y CAs que habilita comunicaciÃ³n segura.</dd>
            
            <dt>CSR (Certificate Signing Request)</dt>
            <dd>Solicitud enviada a una CA para obtener un certificado firmado. Contiene la clave pÃºblica y datos del solicitante.</dd>
            
            <dt>HSTS (HTTP Strict Transport Security)</dt>
            <dd>Header que instruye al browser a usar solo HTTPS para un dominio. Previene downgrade attacks.</dd>
            
            <dt>Twelve-Factor App</dt>
            <dd>MetodologÃ­a para construir aplicaciones cloud-native. Factor III: "Store config in the environment".</dd>
            
            <dt>Secrets Management</dt>
            <dd>PrÃ¡ctica de almacenar, distribuir, y rotar credenciales de forma segura. Herramientas: Vault, AWS Secrets Manager, Azure Key Vault.</dd>
            
            <dt>CIA Triad</dt>
            <dd>Pilares de seguridad de la informaciÃ³n: Confidencialidad, Integridad, Disponibilidad (Confidentiality, Integrity, Availability).</dd>
        </dl>
    </div>

    <!-- â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• -->
    <!-- FOOTER -->
    <!-- â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• -->
    <footer>
        <p style="margin-top: 30px;">
            ğŸ”’ Â¡MisiÃ³n Cumplida! Has asegurado <strong>Identidad</strong> (JWT), <strong>Transporte</strong> (HTTPS), y <strong>ConfiguraciÃ³n</strong> (Secretos) de EcoMarket.
        </p>
        <p style="font-size: 0.9em; color: #666; margin-top: 10px;">
            Unidad IV completada. Tu sistema ahora es escalable, distribuido, y seguro.
        </p>
        <p>Dr. Eligardo Cruz SÃ¡nchez | ProgramaciÃ³n del Lado del Servidor 2025</p>
    </footer>
</body>
</html>
